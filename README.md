# BigDipper
GPS定位及人员轨迹问题常见与所有的LBS类业务场景，包括定位获取，APP保活，轨迹上传，轨迹纠偏，轨迹补偿，轨迹展示等一系列问题，现象与解决思路大致如下：
 '''
- 无轨迹
  - 无信号
    - 长期在室内、地下室等干扰或阻断GPS信号的地方作业
      - 增加RFID、蓝牙等定位手段
  - 网络异常
    - 无法获取网络、基站定位信息，数据无法上传到服务器
      - 支持多种定位模式，坐标数据本地持久化保存，有网络时自动上传
  - 定位模块运行异常
    - 定位芯片无法工作，重启机器也无效
      - 更换设备，或增加RFID、蓝牙等定位手段
    - APP定位权限被收回
      - 将App添加到系统信任名单，允许通知、定位、文件读写等必要权限-运行后台高耗电运行
      - 登录后在有限时间内未返回坐标则多渠道通知（邮件、短信、App内推送）用户未获取到位置
    - 被第其它应用劫持，如手机助手、安全管家等
      - 将App添加到相应白名单
- 轨迹不连续
  - 信号不稳定
    - 室内、隧道等干扰、反射
      - 指定轨迹补偿机制（如两个轨迹点之间的最短路径）
  - Android系统从8.0版本开始限制后台定位频率
    - 长时间锁屏之前先将在App切换到前台再锁屏
  - 电池电量耗尽而自动关机
    - 多渠道通知用户电量低
- 轨迹漂移
  - GPS精度差
    - 仅取到基站定位坐标
      - 轨迹纠偏
    - GPS信号差，定位精度低
      - 轨迹纠偏
  - 定位模块异常
    - 定位模块返回数据异常，如显示精度高但与实际位置偏差很大
      - 轨迹纠偏
        - 绑管网纠偏
          - 管线走向与人员行走路线的关系多元化、难以制定统一标准、难以统一建模（地形地貌差异-穿墙-穿绿化带、花坛）-过度纠偏的因素多
          - 管线数据量大，更新频繁，易出现端和服务器间数据不一致
          - App计算能力要求变高，低端机型难以适配，稳定性难保证
          - 纠偏、平滑、补偿均属事后行为，与实时情况会不一致
        - 绑道路纠偏
          - 缺少路网数据
        - 互联网平台纠偏（高德猎鹰轨迹服务，百度鹰眼轨迹）
          - 每天有访问配额限制
          - 需要多次坐标转换
          - 无法实时纠偏（PC、App）
'''
            
# 说明
基于过去几年在各个领域的巡检项目中积累了较多的轨迹数据和生成过程相结合的解决方案，集成各类型GPS定位坐标的获取和上传，进行集中存储、分析和展示，支持NMEA0183数据解析，支持外接蓝牙设备，集成常用互联网LBS定位模块，服务基于SpringBoot 2.x+Netty+RabbitMQ+PostgreSQL，支持Socket和HTTP。
#### 前端访问地址 http://www.z3pipe.com/dist/ 
#### 本项目由于某些原因，提供的App源码为DEMO级别，未对代码做任何规范化和优化。
如需详细了解，可以关注微信公众号：https://mp.weixin.qq.com/s/YXlUhwDltEL6WR8l0NXL8Q  关注并提问。
